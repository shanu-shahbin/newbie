{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-ES8VFXF5B7"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-ES8VFXF5B7');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="icon" href="{% static 'logo-no-background.svg' %}" type="image/svg+xml">
    <title>Companies | NewbieOs</title>
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <link rel="stylesheet" href="{% static 'css/pagination.css' %}">
    <link rel="stylesheet" href="{% static 'css/company_list.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>

<body>
    <div class="page-container">
        {% include 'navbar.html' %}
        
        <div class="company-list-container">
            <div class="search-bar">
                <form method="get" action="{% url 'company_list' %}">
                    <input type="text" id="company-search" name="q" placeholder="Search companies..." value="{{ request.GET.q }}">
                </form>
            </div>

            <div class="city-buttons">
                <a href="?city=kochi" class="city-button {% if selected_city == 'kochi' %}active{% endif %}">Kochi</a>
                <a href="?city=bangalore" class="city-button {% if selected_city == 'bangalore' %}active{% endif %}">Bangalore</a>
                <a href="?city=hyderabad" class="city-button {% if selected_city == 'hyderabad' %}active{% endif %}">Hyderabad</a>
                <a href="?city=delhi" class="city-button {% if selected_city == 'delhi' %}active{% endif %}">Delhi</a>
                <a href="?city=chennai" class="city-button {% if selected_city == 'chennai' %}active{% endif %}">Chennai</a>
                <a href="?city=pune" class="city-button {% if selected_city == 'pune' %}active{% endif %}">Pune</a>
            </div>

            <div class="company-list">
                {% if company %}
                    {% for i in company %}
                        <div class="company-card">
                            <div class="company-card-image">
                                <!-- SVG icon with proper class for styling -->
                                <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 122.88 105.55" width="100" height="100">
                                    <title>office-building</title>
                                    <path d="M36.24,102.43H86.43l0-99.31H36.24v99.31Zm53.52,0H120V33.75H89.77v68.68Zm-56.88,0V33.75h-30v68.68ZM1.44,105.55A1.44,1.44,0,0,1,0,104.11V32.74a2.15,2.15,0,0,1,.62-1.5,2.12,2.12,0,0,1,1.5-.62h31V2.53A2.54,2.54,0,0,1,35.65,0H87a2.53,2.53,0,0,1,2.53,2.53V30.62h31.23a2.11,2.11,0,0,1,1.49.62h0a2.11,2.11,0,0,1,.62,1.49v71.37a1.44,1.44,0,0,1-1.44,1.44ZM71.67,81.18h8.49a.24.24,0,0,1,.24.24v8.49a.24.24,0,0,1-.24.24H71.67a.24.24,0,0,1-.24-.24V81.42a.24.24,0,0,1,.24-.24Zm-14.59,0h8.49a.24.24,0,0,1,.24.24v8.49a.24.24,0,0,1-.24.24H57.08a.24.24,0,0,1-.24-.24V81.42a.24.24,0,0,1,.24-.24Zm-14.59,0H51a.24.24,0,0,1,.24.24v8.49a.24.24,0,0,1-.24.24H42.49a.24.24,0,0,1-.24-.24V81.42a.24.24,0,0,1,.24-.24Zm54.66-8.26H113.3v5.83l-16.15.18v-6Zm-87.44,0H25.62v5.83l-15.91.18v-6ZM42.46,8.47H80.2a1.16,1.16,0,0,1,1.15,1.15V39.14A1.16,1.16,0,0,1,80.2,40.3H42.46a1.16,1.16,0,0,1-1.16-1.16V9.62a1.16,1.16,0,0,1,1.16-1.15ZM97.15,61.69H113.3v5.83l-16.15.17v-6ZM113.3,50.45v5.83l-16.39.18V50.62c0-.36,14.92-.17,16.39-.17ZM9.71,61.69H25.86v5.83l-16.15.17v-6Zm0-11.24H25.86v5.83l-16.15.18v-6Zm62,15.84h8.49a.24.24,0,0,1,.24.24V75a.24.24,0,0,1-.24.24H71.67a.24.24,0,0,1-.24-.24V66.53a.24.24,0,0,1,.24-.24Zm-14.59,0h8.49a.24.24,0,0,1,.24.24V75a.24.24,0,0,1-.24.24H57.08a.24.24,0,0,1-.24-.24V66.53a.24.24,0,0,1,.24-.24Zm-14.59,0H51a.24.24,0,0,1,.24.24V75a.24.24,0,0,1-.24.24H42.49a.24.24,0,0,1-.24-.24V66.53a.24.24,0,0,1,.24-.24ZM71.67,49.81h8.49a.24.24,0,0,1,.24.24v8.49a.24.24,0,0,1-.24.24H71.67a.24.24,0,0,1-.24-.24V50.05a.24.24,0,0,1,.24-.24Zm-14.59,0h8.49a.24.24,0,0,1,.24.24v8.49a.24.24,0,0,1-.24.24H57.08a.24.24,0,0,1-.24-.24V50.05a.24.24,0,0,1,.24-.24Zm-14.59,0H51a.24.24,0,0,1,.24.24v8.49a.24.24,0,0,1-.24.24H42.49a.24.24,0,0,1-.24-.24V50.05a.24.24,0,0,1,.24-.24Z"/>
                                  </svg>
                                  
                                                                 
                            </div>
                            <div class="company-card-body">
                                <h2 class="company-name">{{ i.company_name }}</h2>
                                <p><strong><i class="fas fa-users"></i> Employees:</strong> {{ i.employees }}</p>
                                <p><strong><i class="fas fa-industry"></i> Industry:</strong> {{ i.industry }}</p>
                                <p><strong><i class="fas fa-map-marker-alt"></i> Location:</strong> {{ i.Location.location }}</p>
                                <a href="{% url 'company_detail' i.id %}" class="view-details">View Details</a>
                            </div>
                        </div>
                    {% endfor %}
                {% else %}
                    <div style="height:34vh;text-align: center;">
                        <p class="no-results" style="text-align: center;font-size: 20px;"> No companies found.</p>
                    </div>
                {% endif %}
            </div>

            {% if company and company.has_other_pages %}
            <div class="pagination p8">
                <ul>
                    {% if company.has_previous %}
                        <li><a class="prev" href="?page={{ company.previous_page_number }}" style="text-decoration: none;">Prev</a></li>
                    {% endif %}
                    <li class="is-active">Page {{ company.number }} of {{ company.paginator.num_pages }}</li>
                    {% if company.has_next %}
                        <li><a class="next" href="?page={{ company.next_page_number }}" style="text-decoration: none;">Next</a></li>
                    {% endif %}
                </ul>
            </div>
            {% endif %}
        </div>
    </div>

    {% include 'footer.html' %}

</body>

</html>
